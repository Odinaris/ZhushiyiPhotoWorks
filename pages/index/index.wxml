<view class="index-container">
  <!-- è½®æ’­å›¾ - å»¶ä¼¸åˆ°æ ‡é¢˜æ  -->
  <view class="banner-section">
    <swiper 
      class="banner-swiper" 
      indicator-dots="{{true}}"
      autoplay="{{true}}"
      interval="{{3000}}"
      duration="{{500}}"
      circular="{{true}}"
    >
      <swiper-item wx:for="{{banners}}" wx:key="_id" bindtap="onBannerTap" data-item="{{item}}">
        <image class="banner-image" src="{{item.imageUrl}}" mode="aspectFill" lazy-load></image>
      </swiper-item>
    </swiper>
  </view>

  <!-- ä½œå“é›†åˆ†ç±» -->
  <view class="categories-section">
    <scroll-view 
      class="categories-scroll" 
      scroll-x="{{true}}" 
      show-scrollbar="{{false}}"
      enable-flex="{{true}}"
    >
      <view class="categories-list">
        <view 
          class="category-item" 
          wx:for="{{categories}}" 
          wx:key="_id"
          bindtap="goToCategoryAlbums"
          data-category="{{item}}"
        >
          <image class="category-cover" src="{{item.coverImage || '/images/tab-album.png'}}" mode="aspectFill" binderror="onCategoryCoverError" data-category="{{item}}"></image>
          <view class="category-name">{{item.name}}</view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- ç²¾é€‰ä½œå“ -->
  <view class="featured-section">
    <view class="section-header">
      <view class="section-title">ä½œå“å±•ç¤º/Production</view>
    </view>

    <view class="album-list" wx:if="{{featuredAlbums.length > 0}}">
      <view 
        class="album-item" 
        wx:for="{{featuredAlbums}}" 
        wx:key="_id"
        bindtap="goToAlbumDetail"
        data-id="{{item._id}}"
      >
        <image class="album-cover" src="{{item.coverImage}}" mode="aspectFill" lazy-load></image>
        <view class="album-info">
          <view class="album-title">{{item.title}}</view>
          <view class="album-meta">
            <text class="album-category">{{item.categoryName}}</text>
            <text class="album-count">{{item.images.length}}å¼ </text>
          </view>
        </view>
      </view>
    </view>

    <view class="empty-container" wx:else>
      <view class="empty-icon">ğŸ“·</view>
      <view class="empty-text">æš‚æ— ç²¾é€‰ä½œå“</view>
    </view>

    <!-- æŸ¥çœ‹å…¨éƒ¨æŒ‰é’® -->
    <view class="view-all-container">
      <button class="view-all-button" bindtap="goToAllAlbums">æŸ¥çœ‹å…¨éƒ¨ä½œå“</button>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view class="error-container" wx:if="{{!loading && loadError}}">
    <text>åŠ è½½å¤±è´¥</text>
    <button bindtap="onRetry">é‡è¯•</button>
  </view>


</view>